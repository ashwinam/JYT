{% extends 'base.html' %}

{% block title %}Blog Home{% endblock title %}
{% block blogActive %} active {% endblock blogActive %}
{% block js %}
<script>
    let previews = document.getElementsByClassName("preview");
    Array.from(previews).forEach((element) => {
        element.innerHTML = element.innerText;
    })
</script>
{% endblock js %}

{% block body %}
<div class="container">
    <h3>JYTs Blogs: </h3>
</div>
{% for post in posts %}
<div class="container my-3">
    <div class="card">
        <h5 class="card-header">{{post.author}}</h5>
        <div class="card-body">
            <a href="/blog/{{post.slug}}" class="text-decoration-none">
                <h5 class="card-title text-dark ">{{post.title}}</h5>
            </a>

            <p class="card-text">
            <div class="preview">{{post.content|safe|truncatechars:300}}</div>
            </p>

            <a href="/blog/{{post.slug}}" class="btn btn-primary">Go somewhere</a>
        </div>
    </div>
</div>
{% endfor %}
{% endblock body %}